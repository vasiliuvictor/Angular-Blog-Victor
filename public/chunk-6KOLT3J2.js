import{c as oe,d as re,f as g,g as D,i as _,j as h,k as p,l as v}from"./chunk-T7CDWBT4.js";import{a as K,b as E,c as Q,d as W,f as X,g as Z,h as $,l as ee,n as te}from"./chunk-TH2JUDWK.js";import{g as H,j as J}from"./chunk-RUSMGZWF.js";import{Ga as T,Ja as i,Na as L,Sa as x,T as N,Tb as Y,Ub as U,Vb as k,Wa as O,Y as z,bb as l,cb as q,db as n,eb as a,fb as u,ha as w,hb as B,ia as j,mb as c,nb as C,ob as I,vb as y,w as f,wb as G,xb as V}from"./chunk-32ZEEEKO.js";var A=r=>["/blog",r],le=r=>["/blog/category",r],ve=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275cmp=x({type:r,selectors:[["app-post-card"]],inputs:{post:"post"},decls:28,vars:25,consts:[[1,"post-card"],[1,"post-image"],[3,"routerLink"],[3,"src","alt"],[1,"post-category",3,"routerLink"],[1,"post-content"],[1,"post-meta"],[1,"post-date"],[1,"post-read-time"],[1,"post-title"],[1,"post-excerpt"],[1,"post-footer"],[1,"post-author"],[1,"author-avatar",3,"src","alt"],[1,"author-name"],[1,"read-more",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M5 12h14"],["d","M12 5l7 7-7 7"]],template:function(o,e){o&1&&(n(0,"div",0)(1,"div",1)(2,"a",2),u(3,"img",3),a(),n(4,"a",4),c(5),a()(),n(6,"div",5)(7,"div",6)(8,"span",7),c(9),G(10,"date"),a(),n(11,"span",8),c(12),a()(),n(13,"h3",9)(14,"a",2),c(15),a()(),n(16,"p",10),c(17),a(),n(18,"div",11)(19,"div",12),u(20,"img",13),n(21,"span",14),c(22),a()(),n(23,"a",15),c(24," Read More "),w(),n(25,"svg",16),u(26,"path",17)(27,"path",18),a()()()()()),o&2&&(i(2),l("routerLink",y(17,A,e.post.slug)),i(),l("src",e.post.imageUrl,T)("alt",e.post.title),i(),l("routerLink",y(19,le,e.post.category)),i(),I(" ",e.post.category," "),i(4),C(V(10,14,e.post.publishedAt,"mediumDate")),i(3),I("",e.post.readTime," min read"),i(2),l("routerLink",y(21,A,e.post.slug)),i(),C(e.post.title),i(2),C(e.post.excerpt),i(3),l("src",e.post.author.avatar,T)("alt",e.post.author.name),i(2),C(e.post.author.name),i(),l("routerLink",y(23,A,e.post.slug)))},dependencies:[k,U,J,H],styles:['.post-card[_ngcontent-%COMP%]{border-radius:var(--radius-md);overflow:hidden;background-color:#fff;box-shadow:0 4px 6px #0000000d;transition:transform var(--duration-normal) ease,box-shadow var(--duration-normal) ease;height:100%;display:flex;flex-direction:column}.post-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 20px #0000001a}.post-image[_ngcontent-%COMP%]{position:relative;height:200px;overflow:hidden}.post-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform var(--duration-normal) ease}.post-card[_ngcontent-%COMP%]:hover   .post-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.05)}.post-category[_ngcontent-%COMP%]{position:absolute;bottom:12px;left:12px;background-color:var(--color-primary);color:#fff;padding:.25rem .75rem;border-radius:9999px;font-size:.75rem;font-weight:500;text-transform:capitalize;transition:background-color var(--duration-fast) ease}.post-category[_ngcontent-%COMP%]:hover{background-color:var(--color-primary-dark)}.post-content[_ngcontent-%COMP%]{padding:var(--space-3);display:flex;flex-direction:column;flex-grow:1}.post-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-2);margin-bottom:var(--space-2);font-size:.875rem;color:var(--color-gray-600)}.post-date[_ngcontent-%COMP%]{position:relative;padding-right:var(--space-2)}.post-date[_ngcontent-%COMP%]:after{content:"";position:absolute;right:0;top:50%;transform:translateY(-50%);width:4px;height:4px;border-radius:50%;background-color:var(--color-gray-400)}.post-title[_ngcontent-%COMP%]{margin-bottom:var(--space-2);font-size:1.25rem;line-height:1.4}.post-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-gray-900);text-decoration:none;transition:color var(--duration-fast) ease}.post-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--color-primary)}.post-excerpt[_ngcontent-%COMP%]{color:var(--color-gray-600);font-size:.95rem;line-height:1.6;margin-bottom:var(--space-2);flex-grow:1}.post-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:auto;padding-top:var(--space-2);border-top:1px solid var(--color-gray-200)}.post-author[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.author-avatar[_ngcontent-%COMP%]{width:28px;height:28px;border-radius:50%;object-fit:cover}.author-name[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--color-gray-700)}.read-more[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;font-size:.875rem;font-weight:500;color:var(--color-primary);transition:all var(--duration-fast) ease}.read-more[_ngcontent-%COMP%]:hover{gap:.5rem;color:var(--color-primary-dark)}']})}}return r})();function ce(r,S){r&1&&(n(0,"div",8),c(1," Please enter a valid email address "),a())}function pe(r,S){r&1&&(n(0,"span"),c(1,"Subscribe"),a())}function me(r,S){r&1&&(n(0,"span"),w(),n(1,"svg",9),u(2,"circle",10),a()())}function de(r,S){r&1&&(n(0,"div",11),w(),n(1,"svg",12),u(2,"path",13)(3,"polyline",14),a(),j(),n(4,"span"),c(5,"Thanks for subscribing!"),a()())}var _e=(()=>{class r{constructor(t){this.fb=t,this.isSubmitting=!1,this.subscribed=!1,this.newsletterForm=this.fb.group({email:["",[E.required,E.email]]})}isEmailInvalid(){let t=this.newsletterForm.get("email");return t?t.invalid&&(t.dirty||t.touched):!1}onSubmit(){this.newsletterForm.valid?(this.isSubmitting=!0,setTimeout(()=>{this.isSubmitting=!1,this.subscribed=!0,this.newsletterForm.reset(),setTimeout(()=>{this.subscribed=!1},5e3)},1500)):this.newsletterForm.get("email")?.markAsTouched()}static{this.\u0275fac=function(o){return new(o||r)(L(ee))}}static{this.\u0275cmp=x({type:r,selectors:[["app-newsletter-form"]],decls:9,vars:8,consts:[[1,"newsletter-form-container"],[1,"newsletter-form",3,"ngSubmit","formGroup"],[1,"form-input-container"],["type","email","formControlName","email","placeholder","Your email address","aria-label","Email address for newsletter"],["class","error-message",4,"ngIf"],["type","submit",1,"subscribe-button",3,"disabled"],[4,"ngIf"],["class","success-message",4,"ngIf"],[1,"error-message"],["viewBox","0 0 50 50",1,"spinner"],["cx","25","cy","25","r","20","fill","none","stroke-width","5",1,"path"],[1,"success-message"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M22 11.08V12a10 10 0 1 1-5.93-9.14"],["points","22 4 12 14.01 9 11.01"]],template:function(o,e){o&1&&(n(0,"div",0)(1,"form",1),B("ngSubmit",function(){return e.onSubmit()}),n(2,"div",2),u(3,"input",3),O(4,ce,2,0,"div",4),a(),n(5,"button",5),O(6,pe,2,0,"span",6)(7,me,3,0,"span",6),a()(),O(8,de,6,0,"div",7),a()),o&2&&(i(),l("formGroup",e.newsletterForm),i(2),q("error",e.isEmailInvalid()),i(),l("ngIf",e.isEmailInvalid()),i(),l("disabled",e.newsletterForm.invalid||e.isSubmitting),i(),l("ngIf",!e.isSubmitting),i(),l("ngIf",e.isSubmitting),i(),l("ngIf",e.subscribed))},dependencies:[k,Y,te,X,K,Q,W,Z,$],styles:[".newsletter-form-container[_ngcontent-%COMP%]{width:100%}.newsletter-form[_ngcontent-%COMP%]{display:flex;gap:.5rem}.form-input-container[_ngcontent-%COMP%]{flex-grow:1;position:relative}input[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:1px solid var(--color-gray-300);border-radius:var(--radius-md);font-family:var(--font-sans);font-size:1rem;transition:all var(--duration-fast) ease}input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 0 3px #0a84ff4d}input.error[_ngcontent-%COMP%]{border-color:var(--color-error)}.error-message[_ngcontent-%COMP%]{position:absolute;color:var(--color-error);font-size:.75rem;bottom:-1.25rem;left:0}.subscribe-button[_ngcontent-%COMP%]{padding:0 1.5rem;background-color:var(--color-primary);color:#fff;font-weight:500;border:none;border-radius:var(--radius-md);cursor:pointer;transition:all var(--duration-fast) ease;display:flex;align-items:center;justify-content:center;min-width:100px}.subscribe-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:var(--color-primary-dark)}.subscribe-button[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.success-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-top:.5rem;color:var(--color-success);font-weight:500;animation:_ngcontent-%COMP%_fadeIn var(--duration-normal) ease}.spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 2s linear infinite;width:20px;height:20px}.path[_ngcontent-%COMP%]{stroke:#fff;stroke-linecap:round;animation:_ngcontent-%COMP%_dash 1.5s ease-in-out infinite}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}to{stroke-dasharray:90,150;stroke-dashoffset:-124}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 480px){.newsletter-form[_ngcontent-%COMP%]{flex-direction:column}.subscribe-button[_ngcontent-%COMP%]{width:100%;padding:.75rem}}"]})}}return r})();var Se=(()=>{class r{constructor(t){this.firestore=t,this.categoriesRef=D(this.firestore,"categories"),this.postsRef=D(this.firestore,"posts")}getCategories(){let t=p(this.categoriesRef);return g(t).pipe(f(o=>o.map(e=>e.name)))}getFeaturedPost(){let t=p(this.postsRef,v("featured","==",!0),_(1));return g(t).pipe(f(o=>{let e=o[0];return e.publishedAt=this.convertTimeStampToDate(e.publishedAt),o[0]}))}getRecentPosts(t=3){let o=p(this.postsRef,h("publishedAt","desc"),_(t));return g(o,{idField:"id"}).pipe(f(e=>(e=e.map(m=>(m.publishedAt=this.convertTimeStampToDate(m.publishedAt),m)),e)))}getPosts(t=1,o="",e="",m="latest"){let s=p(this.postsRef);switch(o&&(s=p(s,v("category","==",o))),m){case"latest":s=p(s,h("publishedAt","desc"));break;case"oldest":s=p(s,h("publishedAt","asc"));break;case"title-asc":s=p(s,h("title","asc"));break;case"title-desc":s=p(s,h("title","desc"));break}return g(s,{idField:"id"}).pipe(f(b=>{let P=[...b].map(d=>(d.publishedAt=this.convertTimeStampToDate(d.publishedAt),d));if(e){let d=e.toLowerCase();P=P.filter(M=>M.title.toLowerCase().includes(d)||M.excerpt.toLowerCase().includes(d)||M.content.toLowerCase().includes(d)||M.tags?.some(ae=>ae.toLowerCase().includes(d)))}let F=6,ie=Math.ceil(P.length/F),R=(t-1)*F;return{posts:P.slice(R,R+F),totalPages:ie,currentPage:t}}))}getPostBySlug(t){let o=p(this.postsRef,v("slug","==",t),_(1));return g(o,{idField:"id"}).pipe(f(e=>{if(!e.length)throw new Error("Post not found");return e[0].publishedAt=this.convertTimeStampToDate(e[0].publishedAt),e[0]}))}getRelatedPosts(t,o,e=3){let m=p(this.postsRef,v("category","==",t),v("id","!=",o),_(e));return g(m,{idField:"id"}).pipe(f(s=>(s=s.map(b=>(b.publishedAt=this.convertTimeStampToDate(b.publishedAt),b)),s)))}convertTimeStampToDate(t){let o=new Date;return t&&(t instanceof oe?o=t.toDate():t instanceof Date?o=t:(console.log("Unknown type of date, use sysdate for now"),o=new Date)),o}static{this.\u0275fac=function(o){return new(o||r)(z(re))}}static{this.\u0275prov=N({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();export{ve as a,_e as b,Se as c};
